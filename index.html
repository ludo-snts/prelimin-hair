<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>PRÉLIMIN’HAIR — Le jeu qui vous brosse dans le sens du poil</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0f0f12;
      --card:#16161c;
      --muted:#a9acb4;
      --text:#f7f7fb;
      --accent:#ff3b81;      /* sexy pink */
      --accent-2:#8b5cf6;    /* purple touch */
      --ok:#00d18f;
      --danger:#ff6b6b;
      --radius:18px;
      --shadow:0 10px 30px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
      color:var(--text); background:
      radial-gradient(1200px 600px at 10% -20%, #1a1a22 10%, transparent 55%),
      radial-gradient(900px 600px at 110% 10%, #191925 5%, transparent 55%),
      linear-gradient(140deg, #0b0b0f 0%, #14141a 70%, #101019 100%);
      background-color:var(--bg);
    }
    .wrap{max-width:980px;margin:0 auto;padding:24px 20px 80px}
    header{
      display:flex; align-items:center; gap:16px; margin:8px 0 22px;
    }
    .logo{
      width:54px;height:54px;border-radius:16px;
      background: radial-gradient(120% 120% at 10% 10%, #ff84b0, #ff3b81 48%, #9b2d72);
      box-shadow:0 6px 18px rgba(255,59,129,.25), inset 0 0 18px rgba(255,255,255,.25);
      display:grid;place-items:center;font-weight:800;color:white;letter-spacing:.5px;
    }
    .title h1{font-size:clamp(22px,4vw,36px);margin:0 0 4px;font-weight:800;letter-spacing:.4px}
    .title p{margin:0;color:var(--muted);font-weight:600}
    .tagline{display:inline-block;margin-top:6px;padding:6px 10px;border-radius:999px;
      background:linear-gradient(90deg, rgba(255,59,129,.12), rgba(139,92,246,.12));
      color:#ffd7e6;border:1px solid rgba(255,59,129,.25); font-size:12px; font-weight:700; letter-spacing:.4px;
      text-transform:uppercase
    }
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
      border:1px solid rgba(255,255,255,.06);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
      border-radius:var(--radius);
      padding:22px;
    }

    /* Stepper */
    .stepper{display:flex;gap:10px;flex-wrap:wrap;margin:12px 0 18px}
    .chip{
      display:flex;align-items:center;gap:10px;
      padding:8px 12px;border-radius:999px;border:1px solid rgba(255,255,255,.08);
      background:#15151b;color:var(--muted);font-weight:600;font-size:13px;
    }
    .chip .dot{width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,.18)}
    .chip.active{color:#fff;border-color:rgba(255,59,129,.45);background:linear-gradient(90deg, rgba(255,59,129,.16), rgba(139,92,246,.16))}
    .chip.active .dot{background:var(--accent)}
    .hidden{display:none!important}

    /* Options buttons */
    .group-label{margin:6px 0 10px;color:#cfd1d8;font-weight:700;letter-spacing:.3px;text-transform:uppercase;font-size:12px}
    .option-grid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:12px}
    @media (max-width:720px){.option-grid{grid-template-columns:repeat(2,1fr)}}
    .option-btn{
      border-radius:14px;border:1px solid rgba(255,255,255,.08);background:#14141a;color:#fff;
      padding:16px 14px;text-align:center;font-weight:800;letter-spacing:.3px;font-size:18px; cursor:pointer;
      transition:.18s transform,.18s border-color,.18s background,.18s box-shadow;
      box-shadow: inset 0 0 0 0 rgba(255,59,129,.2);
      user-select:none;
    }
    .option-btn:hover{transform:translateY(-2px);border-color:rgba(255,255,255,.22)}
    .option-btn.selected{
      background:linear-gradient(160deg, rgba(255,59,129,.22), rgba(139,92,246,.18));
      border-color:rgba(255,59,129,.55);
      box-shadow:0 6px 20px rgba(255,59,129,.2), inset 0 0 0 1px rgba(255,255,255,.08);
    }
    .option-inline{display:flex;gap:10px;align-items:center;margin-top:12px}
    .option-inline input[type="number"]{
      width:110px;padding:12px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.12);
      background:#13131a;color:#fff;font-weight:700; font-size:16px; outline:none;
    }

    /* Player form */
    .player-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
    .player-index{font-weight:800;color:#e0e2e9}
    .player-form .field{margin:8px 0 16px}
    .player-form input[type="text"]{
      width:100%;padding:14px 16px;border-radius:14px;border:1px solid rgba(255,255,255,.12);
      background:#111119;color:#fff;font-size:16px;font-weight:700; outline:none;
    }
    .reason-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
    @media (max-width:720px){.reason-grid{grid-template-columns:1fr}}
    .reason{
      display:flex;gap:10px;align-items:flex-start;border:1px solid rgba(255,255,255,.08);
      padding:10px 12px;border-radius:12px;background:#14141a
    }
    .reason input{margin-top:4px;transform:scale(1.2)}
    .reason .lbl{line-height:1.25}
    .reason .num{opacity:.7;font-weight:800;margin-right:4px}
    .actions-row{display:flex;gap:12px;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}

    /* Buttons */
    .btn{
      border:none;border-radius:14px;padding:14px 18px;font-weight:900;letter-spacing:.3px;
      cursor:pointer; color:#0b0b0f; background:#fff; transition:.18s transform,.18s box-shadow,.18s filter;
    }
    .btn:hover{transform:translateY(-1px)}
    .btn:active{transform:translateY(0)}
    .btn-ghost{background:transparent;color:#fff;border:1px solid rgba(255,255,255,.18)}
    .btn-accent{background:linear-gradient(90deg, #ff3b81, #8b5cf6); color:#fff; box-shadow:0 6px 22px rgba(255,59,129,.28)}
    .btn-ok{background:linear-gradient(90deg,#00d18f,#46e3b0); color:#0c1211}

    /* Play screen */
    .play-card{
      display:grid;
      gap:14px;
      {# padding:22px;
      border-radius:18px;
      background:
        radial-gradient(800px 400px at -10% -30%, rgba(255,59,129,.15), transparent 60%),
        radial-gradient(800px 400px at 110% 130%, rgba(139,92,246,.12), transparent 60%),
        #14141a;
      border:1px solid rgba(255,255,255,.08);
      box-shadow: var(--shadow); #}
    }
    .who{font-size:14px; color:#cfd1d8; text-transform:uppercase; letter-spacing:.35px; font-weight:800}
    .phrase{font-size:clamp(22px,4vw,32px); line-height:1.2; font-weight:800}
    .names{display:flex;gap:10px;flex-wrap:wrap}
    .tag{
      padding:8px 12px; border-radius:999px; background:#0f0f14; border:1px solid rgba(255,255,255,.12);
      color:#fff; font-weight:800; letter-spacing:.2px;
    }
    .note{color:var(--muted);font-size:14px}
    footer.small{margin-top:16px;color:#b9bdc7;font-size:12px;opacity:.9}

    .hr{height:1px;background:linear-gradient(90deg, rgba(255,255,255,.06), rgba(255,255,255,.02));margin:18px 0}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">PH</div>
      <div class="title">
        <h1>PRÉLIMIN’HAIR</h1>
        <p class="tagline">Le jeu qui vous brosse dans le sens du poil</p>
      </div>
    </header>

    <div class="stepper">
      <div class="chip active" data-step-chip="1"><span class="dot"></span> 1. Réglages</div>
      <div class="chip" data-step-chip="2"><span class="dot"></span> 2. Préférences</div>
      <div class="chip" data-step-chip="3"><span class="dot"></span> 3. Jeu</div>
    </div>

    <!-- Screen 1: Setup -->
    <section id="screen-setup" class="card">
      <div class="group">
        <div class="group-label">Nombre de participants</div>
        <div class="option-grid" id="participants-grid">
          <button class="option-btn" data-participants="2">2</button>
          <button class="option-btn" data-participants="3">3</button>
          <button class="option-btn" data-participants="4">4</button>
          <button class="option-btn" id="btn-custom">Autre…</button>
        </div>
        <div class="option-inline hidden" id="custom-participants-row">
          <input type="number" id="custom-participants" min="2" max="12" placeholder="Entre 2 et 12">
          <button class="btn btn-ghost" id="apply-custom">Valider</button>
        </div>
      </div>

      <div class="hr"></div>

      <div class="group">
        <div class="group-label">Nombre de répétitions</div>
        <div class="option-grid" id="reps-grid">
          <button class="option-btn" data-reps="3">3</button>
          <button class="option-btn" data-reps="5">5</button>
          <button class="option-btn" data-reps="7">7</button>
          <button class="option-btn" data-reps="9">9</button>
        </div>
      </div>

      <div class="actions-row">
        <button class="btn btn-ghost" id="reset-setup">Réinitialiser</button>
        <button class="btn btn-accent" id="goto-players" disabled>Continuer</button>
      </div>
    </section>

    <!-- Screen 2: Players -->
    <section id="screen-players" class="card hidden">
      <div class="player-head">
        <div class="player-index" id="player-index">Joueur 1 / N</div>
        <div class="chip"><span class="dot"></span> Préférences personnelles</div>
      </div>
      <form class="player-form" id="player-form">
        <div class="field">
          <label for="player-name"><strong>Nom du joueur</strong></label>
          <input type="text" id="player-name" autocomplete="name" placeholder="Ex. Alex" required>
        </div>

        <div class="field">
          <div class="group-label">Je n’aime pas…</div>
          <div class="reason-grid" id="reasons-grid"><!-- injected --></div>
        </div>

        <div class="actions-row">
          <button type="button" class="btn btn-ghost" id="prev-player">Retour</button>
          <button type="submit" class="btn btn-accent" id="next-player">Continuer</button>
        </div>
      </form>
    </section>

    <!-- Screen 3: Play -->
    <section id="screen-play" class="card hidden">
      <div class="play-card">
        <div class="who">C’est parti !</div>
        <div class="phrase" id="action-phrase">—</div>
        <div class="names" id="action-names"><!-- tags here --></div>
        <div class="note">Rappel : respect & consentement en continu. Vous pouvez passer si quelque chose ne convient pas.</div>
        <div class="actions-row" style="justify-content:space-between">
          <button class="btn btn-ghost" id="restart">Revenir aux préférences</button>
          <button class="btn btn-ok" id="done">C’EST FAIT</button>
        </div>
      </div>
      <footer class="small">Astuce : le jeu choisit toujours une action que la personne ciblée n’a pas refusée.</footer>
    </section>
  </div>

  <script>
  (function(){
    // ===== Data =====
    const ACTIONS = [
      { id:'bite', reason:'être mordu·e', labelNum:'Raison 01',
        templates:[
          '{actor} mordille délicatement {recipient} à {n} endroits.',
          '{actor} mordille délicatement {recipient} pendant {n} secondes.'
        ]},
      { id:'scratch', reason:'qu’on me griffe (doucement)', labelNum:'Raison 02',
        templates:[
          '{actor} trace de légères griffures sur l’avant-bras de {recipient} {n} fois.',
          '{actor} érafle très doucement le dos de {recipient} pendant {n} secondes.'
        ]},
      { id:'tickle', reason:'qu’on me chatouille', labelNum:'Raison 03',
        templates:[
          '{actor} chatouille {recipient} {n} fois.',
          '{actor} chatouille {recipient} pendant {n} secondes.'
        ]},
      { id:'shoulder_massage', reason:'qu’on me masse les épaules', labelNum:'Raison 04',
        templates:[
          '{actor} masse les épaules de {recipient} pendant {n} secondes.',
          '{actor} pétrit doucement les trapèzes de {recipient} {n} fois.'
        ]},
      { id:'hair_stroke', reason:'qu’on me caresse les cheveux', labelNum:'Raison 05',
        templates:[
          '{actor} caresse les cheveux de {recipient} {n} fois.',
          '{actor} passe la main dans les cheveux de {recipient} pendant {n} secondes.'
        ]},
      { id:'whisper', reason:'qu’on me murmure à l’oreille', labelNum:'Raison 06',
        templates:[
          '{actor} murmure un compliment à {recipient} {n} fois.',
          '{actor} chuchote à l’oreille de {recipient} pendant {n} secondes.'
        ]},
      { id:'kiss', reason:'qu’on m’embrasse (joue/nuque)', labelNum:'Raison 07',
        templates:[
          '{actor} dépose des baisers sur la joue de {recipient} {n} fois.',
          '{actor} embrasse la nuque de {recipient} pendant {n} secondes.'
        ]},
      { id:'eye_contact', reason:'qu’on me fixe du regard', labelNum:'Raison 08',
        templates:[
          '{actor} tient le regard de {recipient} pendant {n} secondes.',
          '{actor} envoie {n} clins d’œil complices à {recipient}.'
        ]},
      { id:'hand_hold', reason:'qu’on me prenne la main', labelNum:'Raison 09',
        templates:[
          '{actor} prend la main de {recipient} {n} fois.',
          '{actor} garde la main de {recipient} pendant {n} secondes.'
        ]},
      { id:'nape_stroke', reason:'qu’on m’effleure la nuque', labelNum:'Raison 10',
        templates:[
          '{actor} effleure la nuque de {recipient} {n} fois.',
          '{actor} effleure la nuque de {recipient} pendant {n} secondes.'
        ]},
      { id:'sing', reason:'qu’on me chante doucement', labelNum:'Raison 11',
        templates:[
          '{actor} fredonne à {recipient} {n} fois.',
          '{actor} chante doucement à {recipient} pendant {n} secondes.'
        ]},
      { id:'light_pinch', reason:'qu’on me pince (très légèrement)', labelNum:'Raison 12',
        templates:[
          '{actor} pince très légèrement le bras de {recipient} {n} fois.',
          '{actor} applique de petits pincements doux à {recipient} pendant {n} secondes.'
        ]},
      { id:'neck_breath', reason:'qu’on me souffle au cou', labelNum:'Raison 13',
        templates:[
          '{actor} souffle au niveau du cou de {recipient} {n} fois.',
          '{actor} souffle au cou de {recipient} pendant {n} secondes.'
        ]},
      { id:'hand_massage', reason:'qu’on me masse les mains', labelNum:'Raison 14',
        templates:[
          '{actor} masse les mains de {recipient} pendant {n} secondes.',
          '{actor} presse doucement la paume de {recipient} {n} fois.'
        ]},
      { id:'compliment', reason:'qu’on me fasse des compliments', labelNum:'Raison 15',
        templates:[
          '{actor} dit {n} compliments à {recipient}.',
          '{actor} complimente {recipient} pendant {n} secondes.'
        ]},
      { id:'shoulder_brush', reason:'qu’on me frôle l’épaule', labelNum:'Raison 16',
        templates:[
          '{actor} frôle l’épaule de {recipient} {n} fois.',
          '{actor} frôle l’épaule de {recipient} pendant {n} secondes.'
        ]},
      { id:'nickname', reason:'qu’on me donne un surnom', labelNum:'Raison 17',
        templates:[
          '{actor} donne {n} surnoms tendres à {recipient}.',
          '{actor} susurre un surnom à {recipient} pendant {n} secondes.'
        ]},
      { id:'laugh', reason:'qu’on me fasse rire', labelNum:'Raison 18',
        templates:[
          '{actor} raconte {n} mini blagues à {recipient}.',
          '{actor} fait rire {recipient} pendant {n} secondes.'
        ]},
      { id:'slow_dance', reason:'qu’on danse lentement', labelNum:'Raison 19',
        templates:[
          '{actor} danse lentement avec {recipient} pendant {n} secondes.',
          '{actor} guide {recipient} dans {n} pas lents.'
        ]},
      { id:'hug', reason:'qu’on me prenne dans les bras', labelNum:'Raison 20',
        templates:[
          '{actor} serre {recipient} dans ses bras {n} fois.',
          '{actor} enlace {recipient} pendant {n} secondes.'
        ]},
    ];

    // ===== State =====
    const state = {
      numPlayers:null,
      repetitions:null,
      players:[],          // {name, dislikes:Set<actionId>}
      currentIndex:0
    };

    // ===== DOM =====
    const screenSetup   = document.getElementById('screen-setup');
    const screenPlayers = document.getElementById('screen-players');
    const screenPlay    = document.getElementById('screen-play');

    const stepChips = {
      1: document.querySelector('[data-step-chip="1"]'),
      2: document.querySelector('[data-step-chip="2"]'),
      3: document.querySelector('[data-step-chip="3"]'),
    };

    // Setup screen
    const participantsGrid = document.getElementById('participants-grid');
    const repsGrid         = document.getElementById('reps-grid');
    const btnCustom        = document.getElementById('btn-custom');
    const customRow        = document.getElementById('custom-participants-row');
    const customInput      = document.getElementById('custom-participants');
    const applyCustom      = document.getElementById('apply-custom');
    const resetSetup       = document.getElementById('reset-setup');
    const gotoPlayers      = document.getElementById('goto-players');

    // Players screen
    const playerForm  = document.getElementById('player-form');
    const playerName  = document.getElementById('player-name');
    const reasonsGrid = document.getElementById('reasons-grid');
    const playerIndex = document.getElementById('player-index');
    const prevPlayer  = document.getElementById('prev-player');
    const nextPlayer  = document.getElementById('next-player');

    // Play screen
    const actionPhrase = document.getElementById('action-phrase');
    const actionNames  = document.getElementById('action-names');
    const restartBtn   = document.getElementById('restart');
    const doneBtn      = document.getElementById('done');

    // ===== Helpers =====
    const clamp = (n,min,max)=>Math.max(min,Math.min(max,n));
    const pick  = arr => arr[Math.floor(Math.random()*arr.length)];
    function setStep(step){
      [1,2,3].forEach(s=>{
        stepChips[s].classList.toggle('active', s===step);
      });
    }
    function show(el){el.classList.remove('hidden')}
    function hide(el){el.classList.add('hidden')}

    function updateContinueButton(){
      gotoPlayers.disabled = !(state.numPlayers && state.repetitions);
    }
    function markSelected(container, selectorAttr, value){
      container.querySelectorAll('.option-btn').forEach(b=>{
        const val = b.getAttribute(selectorAttr);
        b.classList.toggle('selected', val && String(val)===String(value));
      });
    }

    // Build reasons list UI
    function renderReasons(){
      reasonsGrid.innerHTML = '';
      ACTIONS.forEach((a,idx)=>{
        const id = `r-${a.id}`;
        const item = document.createElement('label');
        item.className = 'reason';
        item.innerHTML = `
          <input type="checkbox" id="${id}" value="${a.id}">
          <div class="lbl">
            <div><span class="num">${a.labelNum}</span> ${a.reason}</div>
          </div>`;
        reasonsGrid.appendChild(item);
      });
    }

    // Fill/Read form for a given player index
    function loadPlayer(idx){
      setStep(2);
      playerIndex.textContent = `Joueur ${idx+1} / ${state.numPlayers}`;
      const existing = state.players[idx];
      playerName.value = existing?.name || `Joueur ${idx+1}`;
      // checkboxes
      reasonsGrid.querySelectorAll('input[type="checkbox"]').forEach(cb=>{
        cb.checked = existing ? existing.dislikes.has(cb.value) : false;
      });
      prevPlayer.disabled = (idx===0);
      nextPlayer.textContent = (idx === state.numPlayers - 1) ? 'COMMENCER' : 'Continuer';
    }

    function savePlayer(idx){
      const name = playerName.value.trim() || `Joueur ${idx+1}`;
      const dislikes = new Set(
        Array.from(reasonsGrid.querySelectorAll('input[type="checkbox"]:checked'))
             .map(cb => cb.value)
      );
      state.players[idx] = { name, dislikes };
    }

    // ===== Setup handlers =====
    participantsGrid.addEventListener('click', (e)=>{
      const btn = e.target.closest('.option-btn');
      if(!btn) return;
      if(btn === btnCustom){
        customRow.classList.toggle('hidden');
        return;
      }
      const val = Number(btn.dataset.participants);
      if(!Number.isNaN(val)){
        state.numPlayers = clamp(val,2,12);
        customRow.classList.add('hidden');
        markSelected(participantsGrid,'data-participants',state.numPlayers);
        updateContinueButton();
      }
    });
    applyCustom.addEventListener('click', ()=>{
      const n = clamp(Number(customInput.value||0),2,12);
      if(n>=2){
        state.numPlayers = n;
        markSelected(participantsGrid,'data-participants',null);
        btnCustom.classList.add('selected');
        updateContinueButton();
      }
    });

    repsGrid.addEventListener('click', (e)=>{
      const btn = e.target.closest('.option-btn');
      if(!btn) return;
      const val = Number(btn.dataset.reps);
      if(!Number.isNaN(val)){
        state.repetitions = val;
        markSelected(repsGrid,'data-reps',state.repetitions);
        updateContinueButton();
      }
    });

    resetSetup.addEventListener('click', ()=>{
      state.numPlayers = null;
      state.repetitions = null;
      state.players = [];
      markSelected(participantsGrid,'data-participants',null);
      markSelected(repsGrid,'data-reps',null);
      btnCustom.classList.remove('selected');
      customRow.classList.add('hidden');
      customInput.value = '';
      updateContinueButton();
    });

    gotoPlayers.addEventListener('click', ()=>{
      // initialize players
      state.players = Array.from({length: state.numPlayers}, (_,i)=>({name:`Joueur ${i+1}`, dislikes:new Set()}));
      state.currentIndex = 0;
      hide(screenSetup);
      show(screenPlayers);
      renderReasons();
      loadPlayer(0);
    });

    // ===== Players handlers =====
    prevPlayer.addEventListener('click', ()=>{
      savePlayer(state.currentIndex);
      if(state.currentIndex>0){
        state.currentIndex--;
        loadPlayer(state.currentIndex);
      }
    });

    playerForm.addEventListener('submit', (e)=>{
      e.preventDefault();
      savePlayer(state.currentIndex);
      if(state.currentIndex < state.numPlayers - 1){
        state.currentIndex++;
        loadPlayer(state.currentIndex);
      }else{
        // Start game
        hide(screenPlayers);
        startGame();
      }
    });

    // ===== Game logic =====
    function startGame(){
      setStep(3);
      show(screenPlay);
      rollAction();
    }

    function possibleTriples(){
      const triples = [];
      for(let i=0;i<state.players.length;i++){
        for(let j=0;j<state.players.length;j++){
          if(i===j) continue;
          const recipient = state.players[j];
          ACTIONS.forEach(action=>{
            if(!recipient.dislikes.has(action.id)){
              triples.push([i,j,action]);
            }
          });
        }
      }
      return triples;
    }

    function phraseFromTemplate(tpl, actor, recipient, n){
      return tpl
        .replaceAll('{actor}', actor)
        .replaceAll('{recipient}', recipient)
        .replaceAll('{n}', n);
    }

    function rollAction(){
      const triples = possibleTriples();
      if(triples.length===0){
        actionPhrase.textContent = "Aucune action possible avec ces préférences. Modifiez vos ‘je n’aime pas…’ et relancez.";
        actionNames.innerHTML = '';
        return;
      }
      const [ai, ri, action] = pick(triples);
      const actor = state.players[ai].name;
      const recipient = state.players[ri].name;
      const n = state.repetitions;

      const tpl = pick(action.templates);
      const sentence = phraseFromTemplate(tpl, actor, recipient, n);

      actionPhrase.textContent = sentence;
      actionNames.innerHTML = `
        <span class="tag">Acteur·rice : ${actor}</span>
        <span class="tag">Cible : ${recipient}</span>
        <span class="tag">Répétitions : ${n}</span>
      `;
    }

    doneBtn.addEventListener('click', rollAction);
    restartBtn.addEventListener('click', ()=>{
      // Back to players to ajust preferences
      hide(screenPlay);
      show(screenPlayers);
      setStep(2);
      loadPlayer(0);
      state.currentIndex = 0;
    });

    // Init
    updateContinueButton();
  })();
  </script>
</body>
</html>
