<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>PRÉLIMIN’HAIR — Le jeu qui vous brosse dans le sens du poil</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- CSS -->
  <link rel="stylesheet" href="./css/style.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">PH</div>
      <div class="title">
        <h1 data-tagline="Le jeu qui vous brosse dans le sens du poil">PRÉLIMIN’HAIR</h1>
      </div>
    </header>

    <div class="stepper">
      <div class="chip active" data-step-chip="1"><span class="dot"></span> 1. Réglages</div>
      <div class="chip" data-step-chip="2"><span class="dot"></span> 2. Préférences</div>
      <div class="chip" data-step-chip="3"><span class="dot"></span> 3. Jeu</div>
    </div>

    <!-- Screen 1: Setup -->
    <section id="screen-setup" class="card">
      <div class="group">
        <div class="group-label">Nombre de participants</div>
        <div class="option-grid" id="participants-grid">
          <button class="option-btn" data-participants="2">2</button>
          <button class="option-btn" data-participants="3">3</button>
          <button class="option-btn" data-participants="4">4</button>
          <button class="option-btn" id="btn-custom">Autre…</button>
        </div>
        <!-- (on n'ouvre plus de ligne “custom”; le bouton Autre se transforme en input dans-place) -->
      </div>

      <div class="hr"></div>

      <div class="group">
        <div class="group-label">Nombre de répétitions</div>
        <div class="option-grid" id="reps-grid">
          <button class="option-btn" data-reps="3">3</button>
          <button class="option-btn" data-reps="5">5</button>
          <button class="option-btn" data-reps="7">7</button>
          <button class="option-btn" data-reps="random">RANDOM</button>
        </div>
      </div>

      <div class="actions-row">
        <button class="btn btn-ghost" id="reset-setup">Réinitialiser</button>
        <button class="btn btn-accent" id="goto-players" disabled>Continuer</button>
      </div>
    </section>

    <!-- Screen 2: Players -->
    <section id="screen-players" class="card hidden">
      <div class="player-head">
        <div class="player-index" id="player-index">Joueur 1 / N</div>
        <div class="chip"><span class="dot"></span> Préférences personnelles</div>
      </div>

      <form class="player-form" id="player-form">
        <div class="field">
          <label for="player-name"><strong>Nom du joueur</strong></label>
          <input type="text" id="player-name" autocomplete="name" placeholder="Ex. Alex" required>
        </div>

        <div class="field">
          <div class="group-label">Je n’aime pas ces actions</div>
          <div class="reason-grid" id="actions-grid"><!-- inject --></div>
          <div class="grid-hint">Décochez rien si tout va ✨</div>
        </div>

        <div class="field">
          <div class="group-label">Zones que je refuse</div>
          <div class="reason-grid" id="zones-grid"><!-- inject --></div>
          <div class="grid-hint">Cochez les zones à éviter ❌</div>
        </div>

        <div class="actions-row">
          <button type="button" class="btn btn-ghost" id="prev-player">Retour</button>
          <button type="submit" class="btn btn-accent" id="next-player">Continuer</button>
        </div>
      </form>
    </section>

    <!-- Screen 3: Play -->
    <section id="screen-play" class="card hidden">
      <div class="play-card">
        <div class="who">C’est parti !</div>
        <div class="phrase" id="action-phrase">—</div>
        <div class="note">Rappel : respect & consentement en continu. Vous pouvez passer si quelque chose ne convient pas.</div>
        <div class="actions-row" style="justify-content:space-between">
          <button class="btn btn-ghost" id="restart">Revenir aux préférences</button>
          <button class="btn btn-ok" id="done">C’EST FAIT</button>
        </div>
      </div>
      <footer class="small">Astuce : le jeu choisit toujours une action/zone que la personne ciblée n’a pas refusée.</footer>
    </section>
  </div>

  <!-- JS -->
  <script type="module" src="./js/script.js"></script>
</body>
</html>
